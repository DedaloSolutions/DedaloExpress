const a21_0x53ed9f=a21_0x207b;(function(_0x537141,_0x6b529c){const _0x48ba39=a21_0x207b,_0x52020=_0x537141();while(!![]){try{const _0x1f61c8=parseInt(_0x48ba39(0x12e))/0x1+-parseInt(_0x48ba39(0x103))/0x2+-parseInt(_0x48ba39(0x11b))/0x3+-parseInt(_0x48ba39(0xe4))/0x4+parseInt(_0x48ba39(0x126))/0x5+-parseInt(_0x48ba39(0x118))/0x6+parseInt(_0x48ba39(0xea))/0x7;if(_0x1f61c8===_0x6b529c)break;else _0x52020['push'](_0x52020['shift']());}catch(_0x574a4d){_0x52020['push'](_0x52020['shift']());}}}(a21_0x26c2,0x5ca39));var __awaiter=this&&this[a21_0x53ed9f(0x113)]||function(_0x1bf89e,_0x522da9,_0x115123,_0x419419){function _0x20cba9(_0x4f1ab9){return _0x4f1ab9 instanceof _0x115123?_0x4f1ab9:new _0x115123(function(_0x1569bd){_0x1569bd(_0x4f1ab9);});}return new(_0x115123||(_0x115123=Promise))(function(_0x27a92a,_0x370507){const _0x1ad794=a21_0x207b;function _0xa5f18c(_0x5c16ec){const _0x51b5bb=a21_0x207b;try{_0x58be48(_0x419419[_0x51b5bb(0x10d)](_0x5c16ec));}catch(_0x4f856a){_0x370507(_0x4f856a);}}function _0x554726(_0x2a4ab4){const _0x280d0e=a21_0x207b;try{_0x58be48(_0x419419[_0x280d0e(0x132)](_0x2a4ab4));}catch(_0x1eb616){_0x370507(_0x1eb616);}}function _0x58be48(_0x144c45){const _0x3bc4ae=a21_0x207b;_0x144c45[_0x3bc4ae(0x149)]?_0x27a92a(_0x144c45['value']):_0x20cba9(_0x144c45[_0x3bc4ae(0xe8)])['then'](_0xa5f18c,_0x554726);}_0x58be48((_0x419419=_0x419419[_0x1ad794(0x13e)](_0x1bf89e,_0x522da9||[]))['next']());});};import'reflect-metadata';function a21_0x207b(_0x2978d8,_0x4bd569){const _0x26c217=a21_0x26c2();return a21_0x207b=function(_0x207bbd,_0x57a49f){_0x207bbd=_0x207bbd-0xe4;let _0x569d4b=_0x26c217[_0x207bbd];return _0x569d4b;},a21_0x207b(_0x2978d8,_0x4bd569);}import a21_0x5df8f1 from'http';import a21_0x113212 from'./router.class';import a21_0x1a44d0 from'../exceptions/express.exception';import a21_0x1e31b8 from'./request.class';import a21_0x59b761 from'./response.class';import a21_0x5e897f from'fs';import a21_0x4ff8ef from'path';function a21_0x26c2(){const _0x43e04c=['Access-Control-Max-Age','createServer','Access-Control-Allow-Headers','The\x20server\x20is\x20already\x20initialized\x20and\x20is\x20currently\x20listening','application/vnd.openxmlformats-officedocument.presentationml.presentation','mimeTypes','675072XEcftq','image/png','text/csv','existsSync','throw','isDirectory','assign','origin','fromIncomingMessage','json','status','writeHead','resolve','text/plain','Not\x20found','defaultFile','apply','audio/mpeg','listen','Access-Control-Allow-Origin','font/otf','image/svg+xml','Internal\x20Server\x20Error','close','extname','GET','Content-Type','done','end','text/markdown','server','isArray','1554076QXljtM','express','Access-Control-Allow-Methods','cacheControl','value','split','3674930JWoRUA','application/x-rar-compressed','utf-8','text/html','application/x-www-form-urlencoded','handle','forEach','serve','fromServerResponse','true','image/jpeg','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','audio/wav','body','setHeader','OPTIONS','toString','parsers','stringify','_handle','application/gzip','application/vnd.android.package-archive','max-age=','application/vnd.ms-excel','data','298200iXiMdk','application/pdf','includes','baseUrl','text/css','statSync','application/vnd.ms-fontobject','join','audio/ogg','access-control-request-headers','next','url','Access-Control-Allow-Credentials','font/ttf','application/ld+json','query','__awaiter','font/woff2','application/x-yaml','map','allowedExtensions','162630pZNryB','application/x-tar','expressRef','1025712RVXBVh','maxAge','The\x20server\x20is\x20not\x20listening','parse','image/gif','headers','method','application/json','match','readFileSync','from','430075aOALgv','application/octet-stream'];a21_0x26c2=function(){return _0x43e04c;};return a21_0x26c2();}export default class Application extends a21_0x113212{constructor(){const _0x5e215f=a21_0x53ed9f;super(),this['parsers']={'json':{'match':_0x3bde50=>{const _0x1c4dd9=a21_0x207b;return _0x3bde50[_0x1c4dd9(0x120)]['content-type']===_0x1c4dd9(0x122);},'decode':_0x295b3c=>{const _0x2ea73e=a21_0x207b,_0x316400=Buffer[_0x2ea73e(0x125)](_0x295b3c[_0x2ea73e(0xf7)])['toString'](_0x2ea73e(0xec));if(_0x316400!=='')_0x295b3c['body']=JSON[_0x2ea73e(0x11e)](_0x316400);},'encode':(_0x25cf46,_0x4b628f)=>{const _0x412452=a21_0x207b;_0x4b628f[_0x412452(0xf8)](_0x412452(0x148),_0x412452(0x122)),_0x4b628f['end'](JSON[_0x412452(0xfc)](_0x25cf46));}},'query':{'match':_0x4db750=>{const _0x483ce1=a21_0x207b;return _0x4db750[_0x483ce1(0x10e)]!=undefined&&_0x4db750[_0x483ce1(0x10e)][_0x483ce1(0x105)]('?');},'decode':_0x512bdd=>{const _0x292c79=a21_0x207b,_0x52bd34=_0x512bdd['url'][_0x292c79(0xe9)]('?'),_0x84f9e8=_0x52bd34[0x1],_0x39ab50={};_0x84f9e8[_0x292c79(0xe9)]('&')[_0x292c79(0xf0)](_0x5c8fd3=>{const _0x2112d9=_0x292c79;let [_0x53cca3,_0x868bb0]=_0x5c8fd3[_0x2112d9(0xe9)]('=')[_0x2112d9(0x116)](decodeURIComponent);if(_0x53cca3!=undefined){if(_0x39ab50[_0x53cca3]!=undefined)_0x39ab50[_0x53cca3]=[...Array[_0x2112d9(0x14d)](_0x39ab50[_0x53cca3])?_0x39ab50[_0x53cca3]:[_0x39ab50[_0x53cca3]],_0x868bb0];else _0x39ab50[_0x53cca3]=_0x868bb0;}}),_0x512bdd[_0x292c79(0x112)]=_0x39ab50,_0x512bdd[_0x292c79(0x106)]=_0x52bd34[0x0];},'encode':(_0xa369e3,_0x458776)=>{const _0x278ea0=a21_0x207b,_0x97f8c6=Object['entries'](_0xa369e3)[_0x278ea0(0x116)](([_0x12d9f4,_0x1a7dc4])=>{const _0x5a32ac=_0x278ea0;return Array['isArray'](_0x1a7dc4)?_0x1a7dc4[_0x5a32ac(0x116)](_0x379ac8=>encodeURIComponent(_0x12d9f4)+'='+encodeURIComponent(_0x379ac8))[_0x5a32ac(0x10a)]('&'):encodeURIComponent(_0x12d9f4)+'='+encodeURIComponent(_0x1a7dc4);})['join']('&');_0x458776[_0x278ea0(0xf8)](_0x278ea0(0x148),_0x278ea0(0xee)),_0x458776[_0x278ea0(0x14a)](_0x97f8c6);}}},this[_0x5e215f(0x11a)][_0x5e215f(0xe5)]=this;}get['listening'](){const _0x6cd740=a21_0x53ed9f;return this[_0x6cd740(0x14c)]!==undefined;}get['native'](){const _0x3d35b0=a21_0x53ed9f;return this[_0x3d35b0(0x14c)];}[a21_0x53ed9f(0x140)](){return __awaiter(this,arguments,void 0x0,function*(_0x594b05=0x50,_0x465dcc){return new Promise((_0x18df90,_0x492dc4)=>{const _0x5258ab=a21_0x207b;if(this[_0x5258ab(0x14c)]!=undefined)return _0x492dc4(new Error(_0x5258ab(0x12b)));this[_0x5258ab(0x14c)]=a21_0x5df8f1[_0x5258ab(0x129)]((_0x1f1845,_0x26aea4)=>{const _0x194b1e=_0x5258ab;this[_0x194b1e(0xef)](_0x1f1845,_0x26aea4);}),this[_0x5258ab(0x14c)][_0x5258ab(0x140)](_0x594b05,()=>{const _0x537186=_0x5258ab;if(_0x465dcc)_0x465dcc();_0x18df90(this[_0x537186(0x14c)]);});});});}['handle'](_0x2b72cc,_0x584994){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3f6b05=a21_0x207b,_0x4e72fd=yield new Promise(_0x1433ce=>{const _0x377b86=a21_0x207b;let _0x147a13=new Uint8Array();_0x2b72cc['on'](_0x377b86(0x102),_0x55cdd9=>{_0x147a13=new Uint8Array([..._0x147a13,..._0x55cdd9]);}),_0x2b72cc['on'](_0x377b86(0x14a),()=>{_0x1433ce(_0x147a13);});}),_0x5aa0be=a21_0x1e31b8[_0x3f6b05(0x136)](_0x2b72cc,this);_0x5aa0be['body']=_0x4e72fd;for(const _0x902e76 of Object['values'](this[_0x3f6b05(0xfb)])){if(!_0x902e76[_0x3f6b05(0x123)](_0x5aa0be))continue;_0x902e76['decode'](_0x5aa0be);}const _0x1d304d=a21_0x59b761[_0x3f6b05(0xf2)](_0x584994,this);this[_0x3f6b05(0xfd)](_0x5aa0be,_0x1d304d);});}['close'](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x1ca609,_0x56da00)=>{const _0x5849b5=a21_0x207b;if(this['server']===undefined)return _0x56da00(new Error(_0x5849b5(0x11d)));this[_0x5849b5(0x14c)][_0x5849b5(0x145)](_0x3e0cac=>{if(_0x3e0cac!=undefined)return _0x56da00(_0x3e0cac);return this['server']=undefined,_0x1ca609();});});});}['onError'](_0x241efa,_0x3a6668,_0x5368d4){const _0x59dae6=a21_0x53ed9f;if(!(_0x5368d4 instanceof a21_0x1a44d0))_0x5368d4=new a21_0x1a44d0(_0x59dae6(0x144),0x1f4);_0x3a6668[_0x59dae6(0x138)](_0x5368d4[_0x59dae6(0x138)])[_0x59dae6(0x137)](_0x5368d4);}['addParser'](_0x2c5908,_0x61668b){const _0x297db4=a21_0x53ed9f;this[_0x297db4(0xfb)][_0x2c5908]=_0x61668b;}static['cors'](_0x3477b1={}){return(_0x22095a,_0x1a462f)=>{const _0x5481b8=a21_0x207b,{origin:_0x5e58fb,methods:_0x3aa2be,allowedHeaders:_0x1b6177,credentials:_0x1d6d73,maxAge:_0x171712}=_0x3477b1,_0x8db7a3=_0x22095a[_0x5481b8(0x120)][_0x5481b8(0x135)];if(_0x5e58fb===undefined)_0x1a462f[_0x5481b8(0xf8)](_0x5481b8(0x141),'*');else{if(Array[_0x5481b8(0x14d)](_0x5e58fb)){if(_0x8db7a3&&_0x5e58fb[_0x5481b8(0x105)](_0x8db7a3))_0x1a462f['setHeader'](_0x5481b8(0x141),_0x8db7a3);}else _0x1a462f['setHeader']('Access-Control-Allow-Origin',_0x5e58fb);}_0x1a462f[_0x5481b8(0xf8)](_0x5481b8(0xe6),_0x3aa2be===undefined?'GET,\x20POST,\x20PUT,\x20DELETE,\x20PATCH,\x20OPTIONS':Array[_0x5481b8(0x14d)](_0x3aa2be)?_0x3aa2be[_0x5481b8(0x10a)](','):_0x3aa2be),_0x1a462f['setHeader'](_0x5481b8(0x12a),_0x1b6177===undefined?_0x22095a[_0x5481b8(0x120)][_0x5481b8(0x10c)]||'Origin,\x20X-Requested-With,\x20Content-Type,\x20Accept,\x20Authorization':Array[_0x5481b8(0x14d)](_0x1b6177)?_0x1b6177[_0x5481b8(0x10a)](','):_0x1b6177);if(_0x1d6d73&&_0x8db7a3&&_0x5e58fb!=='*'&&(!Array[_0x5481b8(0x14d)](_0x5e58fb)||_0x5e58fb[_0x5481b8(0x105)](_0x8db7a3)))_0x1a462f['setHeader'](_0x5481b8(0x10f),_0x5481b8(0xf3));if(_0x171712!==undefined)_0x1a462f[_0x5481b8(0xf8)](_0x5481b8(0x128),_0x171712[_0x5481b8(0xfa)]());if(_0x22095a[_0x5481b8(0x121)]===_0x5481b8(0xf9))return _0x1a462f[_0x5481b8(0x138)](0xcc)[_0x5481b8(0x14a)](),![];return!![];};}static[a21_0x53ed9f(0xf1)](_0xca1299,_0x5a9789={}){const _0x58dceb=a21_0x53ed9f,_0x423224=a21_0x4ff8ef[_0x58dceb(0x13a)](_0xca1299),_0x3c384f=Object['assign']({'.html':_0x58dceb(0xed),'.css':_0x58dceb(0x107),'.js':'application/javascript','.json':_0x58dceb(0x122),'.png':_0x58dceb(0x12f),'.jpg':'image/jpeg','.jpeg':_0x58dceb(0xf4),'.gif':_0x58dceb(0x11f),'.svg':_0x58dceb(0x143),'.txt':_0x58dceb(0x13b),'.xml':'application/xml','.zip':'application/zip','.tar':_0x58dceb(0x119),'.gz':_0x58dceb(0xfe),'.mp4':'video/mp4','.webm':'video/webm','.ogg':_0x58dceb(0x10b),'.mp3':_0x58dceb(0x13f),'.wav':_0x58dceb(0xf6),'.jsonld':_0x58dceb(0x111),'.pdf':_0x58dceb(0x104),'.woff':'font/woff','.woff2':_0x58dceb(0x114),'.ttf':_0x58dceb(0x110),'.eot':_0x58dceb(0x109),'.otf':_0x58dceb(0x142),'.ico':'image/x-icon','.yaml':_0x58dceb(0x115),'.md':_0x58dceb(0x14b),'.csv':_0x58dceb(0x130),'.xls':_0x58dceb(0x101),'.xlsx':_0x58dceb(0xf5),'.ppt':'application/vnd.ms-powerpoint','.pptx':_0x58dceb(0x12c),'.exe':_0x58dceb(0x127),'.apk':_0x58dceb(0xff),'.rar':_0x58dceb(0xeb),'.tar.gz':_0x58dceb(0xfe)},_0x5a9789[_0x58dceb(0x12d)]||{}),_0xc4b54c=new a21_0x113212();return _0xc4b54c['use'](_0x58dceb(0x147),'*',(_0x3fd31f,_0x3105f8)=>{const _0x1ea41b=_0x58dceb,_0x34e3d6=_0x3fd31f[_0x1ea41b(0x10e)]||'/'+(_0x5a9789['defaultFile']||'index.html');let _0x360425=a21_0x4ff8ef[_0x1ea41b(0x10a)](_0x423224,_0x34e3d6);if(!a21_0x5e897f[_0x1ea41b(0x131)](_0x360425))throw new a21_0x1a44d0(_0x1ea41b(0x13c),0x194);const _0x2f50c7=a21_0x5e897f[_0x1ea41b(0x108)](_0x360425);if(_0x2f50c7[_0x1ea41b(0x133)]())_0x360425=a21_0x4ff8ef['join'](_0x360425,_0x5a9789[_0x1ea41b(0x13d)]||'index.html');const _0x14308a=a21_0x4ff8ef[_0x1ea41b(0x146)](_0x360425);if(_0x5a9789[_0x1ea41b(0x117)]!=undefined&&!_0x5a9789[_0x1ea41b(0x117)]['includes'](_0x14308a))throw new a21_0x1a44d0('Forbidden',0x193);const _0x34d341=Object[_0x1ea41b(0x134)]({'Content-Type':_0x3c384f[_0x14308a]||_0x1ea41b(0x127)},_0x5a9789[_0x1ea41b(0xe7)]?{'Cache-Control':_0x1ea41b(0x100)+(_0x5a9789[_0x1ea41b(0x11c)]||0x0)}:{}),_0x4ab4b3=a21_0x5e897f[_0x1ea41b(0x124)](_0x360425);return _0x3105f8[_0x1ea41b(0x139)](0xc8,_0x34d341),_0x3105f8[_0x1ea41b(0x14a)](_0x4ab4b3),![];}),_0xc4b54c;}}