function a25_0x27c3(_0x7fbfa0,_0x34a831){const _0x1a40b6=a25_0x1a40();return a25_0x27c3=function(_0x27c383,_0x51c227){_0x27c383=_0x27c383-0x179;let _0x504c3c=_0x1a40b6[_0x27c383];return _0x504c3c;},a25_0x27c3(_0x7fbfa0,_0x34a831);}const a25_0x22b450=a25_0x27c3;function a25_0x1a40(){const _0x3338c9=['slice','join','next','url','filter','register','OPTIONS','express','call','startsWith','every','then','POST','throw','15371igdocH','handler','function','string','default','prototype','name','handlers','GET','afterRoute','46665RETnNb','expressRef','fromController','__awaiter','readdirSync','No\x20handlers\x20found','corsRoute','paramKeys','options','routes','baseUrl','754818xlQsXN','753375cPvMKT','urlPattern','handle','exec','150996lkSovb','test','params','Not\x20found','value','unshift','DELETE','middlewares','beforeRoute','526652iBwQEw','length','replace','put','onError','push','Cannot\x20get\x20the\x20Express\x20class\x20reference','method','479900sCgKkR','use','delete','get','getMetadata'];a25_0x1a40=function(){return _0x3338c9;};return a25_0x1a40();}(function(_0x56695c,_0x11589e){const _0x52701f=a25_0x27c3,_0x34504e=_0x56695c();while(!![]){try{const _0x491550=-parseInt(_0x52701f(0x18a))/0x1+-parseInt(_0x52701f(0x1a4))/0x2+-parseInt(_0x52701f(0x194))/0x3+parseInt(_0x52701f(0x1ad))/0x4+parseInt(_0x52701f(0x1b5))/0x5+parseInt(_0x52701f(0x19f))/0x6+-parseInt(_0x52701f(0x1a0))/0x7;if(_0x491550===_0x11589e)break;else _0x34504e['push'](_0x34504e['shift']());}catch(_0x8188f){_0x34504e['push'](_0x34504e['shift']());}}}(a25_0x1a40,0x22085));var __awaiter=this&&this[a25_0x22b450(0x197)]||function(_0x1e7243,_0x15ab3a,_0x5e5f77,_0x44fb36){function _0x1fe2f3(_0x42a91f){return _0x42a91f instanceof _0x5e5f77?_0x42a91f:new _0x5e5f77(function(_0x448574){_0x448574(_0x42a91f);});}return new(_0x5e5f77||(_0x5e5f77=Promise))(function(_0x1dc255,_0x47d755){function _0x1483a0(_0x2e1a64){const _0x5247d4=a25_0x27c3;try{_0x1f959d(_0x44fb36[_0x5247d4(0x17e)](_0x2e1a64));}catch(_0x236e07){_0x47d755(_0x236e07);}}function _0x158789(_0x39e960){const _0x75cb35=a25_0x27c3;try{_0x1f959d(_0x44fb36[_0x75cb35(0x189)](_0x39e960));}catch(_0x4d64e4){_0x47d755(_0x4d64e4);}}function _0x1f959d(_0x2dd2b6){const _0x3ffe66=a25_0x27c3;_0x2dd2b6['done']?_0x1dc255(_0x2dd2b6[_0x3ffe66(0x1a8)]):_0x1fe2f3(_0x2dd2b6['value'])[_0x3ffe66(0x187)](_0x1483a0,_0x158789);}_0x1f959d((_0x44fb36=_0x44fb36['apply'](_0x1e7243,_0x15ab3a||[]))['next']());});};import a25_0x3c21f4 from'../exceptions/express.exception';import a25_0x16cdc2 from'fs';import a25_0x44f5d5 from'path';export default class Router{constructor(){const _0x2ff5ad=a25_0x22b450;this[_0x2ff5ad(0x1ab)]=[],this[_0x2ff5ad(0x195)]={};}[a25_0x22b450(0x1b6)](..._0xf780c){const _0x415eb7=a25_0x22b450;let _0x1cd033='*',_0x1e82db='*',_0x589e24=[];if(_0xf780c[_0x415eb7(0x1ae)]>0x2&&typeof _0xf780c[0x0]==='string'&&typeof _0xf780c[0x1]===_0x415eb7(0x18d))_0x1cd033=_0xf780c[0x0],_0x1e82db=_0xf780c[0x1],_0x589e24=_0xf780c[_0x415eb7(0x17c)](0x2);else{if(_0xf780c[_0x415eb7(0x1ae)]>0x1&&typeof _0xf780c[0x0]===_0x415eb7(0x18d)&&typeof _0xf780c[0x1]!==_0x415eb7(0x18d))_0x1e82db=_0xf780c[0x0],_0x589e24=_0xf780c[_0x415eb7(0x17c)](0x1);else _0xf780c[_0x415eb7(0x186)](_0x4a11c7=>typeof _0x4a11c7===_0x415eb7(0x18c)||_0x4a11c7 instanceof Router)&&(_0x589e24=_0xf780c);}if(_0x589e24[_0x415eb7(0x1ae)]===0x0)throw new Error(_0x415eb7(0x199));if(_0x1cd033==='*'&&_0x1e82db==='*'&&_0x589e24[_0x415eb7(0x1ae)]===0x1&&typeof _0x589e24[0x0]===_0x415eb7(0x18c)&&_0x589e24[0x0]['length']===0x4){const _0x404d0a=_0x589e24[0x0];if(this[_0x415eb7(0x195)][_0x415eb7(0x183)]==undefined)throw new Error(_0x415eb7(0x1b3));this[_0x415eb7(0x195)][_0x415eb7(0x183)][_0x415eb7(0x1b1)]=(_0x4fb725,_0x366ea7,_0x534e23)=>{const _0x26158f=_0x415eb7;return _0x404d0a[_0x26158f(0x184)](this[_0x26158f(0x195)][_0x26158f(0x183)],_0x534e23,_0x4fb725,_0x366ea7,()=>{});};return;}const _0xcc93f3=[];for(const _0x45e78a of _0x589e24)if(_0x45e78a instanceof Router)_0x45e78a[_0x415eb7(0x195)]=this[_0x415eb7(0x195)];this['middlewares'][_0x415eb7(0x1b2)]({'method':_0x1cd033,'paramKeys':_0xcc93f3,'handlers':_0x589e24,'urlPattern':_0x1e82db==='*'?undefined:new RegExp('^'+_0x1e82db[_0x415eb7(0x1af)](/:([\w]+)/g,(_0x24fb21,_0x311d7c)=>{const _0x3589d6=_0x415eb7;return _0xcc93f3[_0x3589d6(0x1b2)](_0x311d7c),'([^/]+)';})[_0x415eb7(0x1af)](/\//g,'\x5c/')+(_0x589e24['some'](_0x5c693e=>_0x5c693e instanceof Router)?'':'$'))});}[a25_0x22b450(0x181)](_0x4d3d2d){const _0xf7a6d5=a25_0x22b450,[_0x23e8ea,_0x194a2b]=Router[_0xf7a6d5(0x196)](_0x4d3d2d);this[_0xf7a6d5(0x1b6)](_0x23e8ea,_0x194a2b);}['registerFrom'](){const _0x2b1adc=a25_0x22b450;return __awaiter(this,arguments,void 0x0,function*(_0x2bf5de=a25_0x44f5d5[_0x2b1adc(0x17d)](__dirname,'controllers'),_0x490cf5=/\.controller\.(ts|js)$/i){const _0xad89dc=_0x2b1adc,_0x10732e=a25_0x16cdc2[_0xad89dc(0x198)](_0x2bf5de),_0xd4f952=_0x10732e[_0xad89dc(0x180)](_0x1134d3=>_0x490cf5[_0xad89dc(0x1a5)](_0x1134d3));for(const _0x23a78e of _0xd4f952){const _0x40a14f=a25_0x44f5d5[_0xad89dc(0x17d)](_0x2bf5de,_0x23a78e),_0x211121=yield import(_0x40a14f),_0x265447=_0x211121[_0xad89dc(0x18e)];this[_0xad89dc(0x181)](_0x265447);}});}[a25_0x22b450(0x1a2)](_0x3c97fa,_0x15903b){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x34727c=a25_0x27c3;try{let {method:_0x4234d0,baseUrl:_0x234677}=_0x3c97fa;if(_0x4234d0==undefined||_0x234677==undefined)throw new a25_0x3c21f4('Bad\x20Request',0x190);_0x234677=(_0x234677[_0x34727c(0x185)]('/')?'':'/')+_0x234677;let _0x186bf1=![];for(const _0x5e2c5c of this[_0x34727c(0x1ab)]){if(_0x5e2c5c[_0x34727c(0x1b4)]!==_0x4234d0&&_0x5e2c5c[_0x34727c(0x1b4)]!=='*'||_0x5e2c5c[_0x34727c(0x1a1)]!==undefined&&!_0x5e2c5c['urlPattern']['test'](_0x234677))continue;_0x186bf1=!![];if(_0x5e2c5c[_0x34727c(0x1a1)]!=undefined){const _0x434df9=_0x5e2c5c['urlPattern'][_0x34727c(0x1a3)](_0x234677),_0x357a67=_0x434df9?_0x5e2c5c[_0x34727c(0x19b)]['reduce']((_0x139f41,_0x253d20,_0x84de7d)=>{return _0x139f41[_0x253d20]=_0x434df9[_0x84de7d+0x1],_0x139f41;},{}):{};_0x3c97fa[_0x34727c(0x1a6)]=Object['assign'](Object['assign']({},_0x3c97fa[_0x34727c(0x1a6)]),_0x357a67);}for(const _0x23208e of _0x5e2c5c[_0x34727c(0x191)]){if(_0x5e2c5c[_0x34727c(0x1a1)]!=undefined)_0x3c97fa[_0x34727c(0x19e)]=_0x234677['replace'](_0x5e2c5c[_0x34727c(0x1a1)],'');if(_0x23208e instanceof Router){const _0x2a75cd=yield _0x23208e[_0x34727c(0x1a2)](_0x3c97fa,_0x15903b);if(_0x2a75cd!==!![])return![];continue;}const _0x48f6bd=yield new Promise((_0x4f1674,_0x4f3ffb)=>{const _0x4cba86=_0x34727c;try{const _0x6afe6=_0x23208e(_0x3c97fa,_0x15903b,_0x53e080=>{if(_0x53e080!=undefined)return _0x4f3ffb(_0x53e080);_0x4f1674(!![]);});if(_0x6afe6 instanceof Promise)_0x6afe6[_0x4cba86(0x187)](_0x4f1674)['catch'](_0x4f3ffb);else _0x4f1674(_0x6afe6);}catch(_0x307482){_0x4f3ffb(_0x307482);}});if(_0x48f6bd!==!![])return![];}}if(!_0x186bf1)throw new a25_0x3c21f4(_0x34727c(0x1a7),0x194);return!![];}catch(_0x3c6b72){if(this[_0x34727c(0x195)][_0x34727c(0x183)]==undefined)throw new Error('Cannot\x20get\x20the\x20Express\x20class\x20reference');return yield this[_0x34727c(0x195)][_0x34727c(0x183)][_0x34727c(0x1b1)][_0x34727c(0x184)](this[_0x34727c(0x195)]['express'],_0x3c97fa,_0x15903b,_0x3c6b72),![];}});}[a25_0x22b450(0x17a)](..._0x1d8517){const _0x202f0e=a25_0x22b450;let _0x23ad35='*',_0x1106b3=_0x1d8517;return _0x1d8517[_0x202f0e(0x1ae)]>0x1&&typeof _0x1d8517[0x0]==='string'&&(_0x23ad35=_0x1d8517[0x0],_0x1106b3=_0x1d8517[_0x202f0e(0x17c)](0x1)),this[_0x202f0e(0x1b6)](_0x202f0e(0x192),_0x23ad35,..._0x1106b3);}['post'](..._0x665b3d){const _0x1f646f=a25_0x22b450;let _0x83ca4f='*',_0xbcca0d=_0x665b3d;_0x665b3d[_0x1f646f(0x1ae)]>0x1&&typeof _0x665b3d[0x0]===_0x1f646f(0x18d)&&(_0x83ca4f=_0x665b3d[0x0],_0xbcca0d=_0x665b3d[_0x1f646f(0x17c)](0x1)),this['use'](_0x1f646f(0x188),_0x83ca4f,..._0xbcca0d);}[a25_0x22b450(0x1b0)](..._0x241e28){const _0x3517a2=a25_0x22b450;let _0x36814e='*',_0x5f1ceb=_0x241e28;_0x241e28['length']>0x1&&typeof _0x241e28[0x0]==='string'&&(_0x36814e=_0x241e28[0x0],_0x5f1ceb=_0x241e28['slice'](0x1)),this[_0x3517a2(0x1b6)]('PUT',_0x36814e,..._0x5f1ceb);}['patch'](..._0x4cd1b7){const _0xc2f496=a25_0x22b450;let _0x2703f5='*',_0x18f75e=_0x4cd1b7;_0x4cd1b7['length']>0x1&&typeof _0x4cd1b7[0x0]==='string'&&(_0x2703f5=_0x4cd1b7[0x0],_0x18f75e=_0x4cd1b7[_0xc2f496(0x17c)](0x1)),this[_0xc2f496(0x1b6)]('PATCH',_0x2703f5,..._0x18f75e);}[a25_0x22b450(0x19c)](..._0x473267){const _0x4f349c=a25_0x22b450;let _0x340d7b='*',_0x2e443=_0x473267;_0x473267[_0x4f349c(0x1ae)]>0x1&&typeof _0x473267[0x0]==='string'&&(_0x340d7b=_0x473267[0x0],_0x2e443=_0x473267[_0x4f349c(0x17c)](0x1)),this[_0x4f349c(0x1b6)]('OPTIONS',_0x340d7b,..._0x2e443);}[a25_0x22b450(0x179)](..._0x3fc236){const _0x180198=a25_0x22b450;let _0x56bf99='*',_0x29f789=_0x3fc236;_0x3fc236[_0x180198(0x1ae)]>0x1&&typeof _0x3fc236[0x0]==='string'&&(_0x56bf99=_0x3fc236[0x0],_0x29f789=_0x3fc236[_0x180198(0x17c)](0x1)),this['use'](_0x180198(0x1aa),_0x56bf99,..._0x29f789);}static[a25_0x22b450(0x196)](_0x2d327f){const _0x2a03ae=a25_0x22b450,_0xa884c5=Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x17f),_0x2d327f),_0x12e7c0=Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x19d),_0x2d327f)||Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x19d),_0x2d327f[_0x2a03ae(0x18f)])||[],_0x2524a2=new Router();for(const _0x187300 of _0x12e7c0){const _0x35d147=Reflect[_0x2a03ae(0x17b)]('beforeRoute',_0x2d327f,_0x187300[_0x2a03ae(0x18b)][_0x2a03ae(0x190)])||Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x1ac),_0x2d327f[_0x2a03ae(0x18f)],_0x187300[_0x2a03ae(0x18b)][_0x2a03ae(0x190)])||[],_0x31527e=Reflect['getMetadata']('afterRoute',_0x2d327f,_0x187300[_0x2a03ae(0x18b)][_0x2a03ae(0x190)])||Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x193),_0x2d327f[_0x2a03ae(0x18f)],_0x187300[_0x2a03ae(0x18b)]['name'])||[],_0x3173a4=Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x19a),_0x2d327f,_0x187300['handler'][_0x2a03ae(0x190)])||Reflect[_0x2a03ae(0x17b)](_0x2a03ae(0x19a),_0x2d327f[_0x2a03ae(0x18f)],_0x187300['handler']['name']);_0x3173a4!=undefined&&(_0x2524a2[_0x2a03ae(0x1b6)](_0x2a03ae(0x182),_0x187300['url'],_0x3173a4),_0x35d147[_0x2a03ae(0x1a9)](_0x3173a4)),_0x2524a2[_0x2a03ae(0x1b6)](_0x187300[_0x2a03ae(0x1b4)],_0x187300['url'],...[..._0x35d147,_0x187300[_0x2a03ae(0x18b)],..._0x31527e]);}return[_0xa884c5,_0x2524a2];}}