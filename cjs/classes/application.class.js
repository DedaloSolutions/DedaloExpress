'use strict';const a0_0x350c5c=a0_0x5822;(function(_0x4e6181,_0x275777){const _0x355e8f=a0_0x5822,_0x27b5d9=_0x4e6181();while(!![]){try{const _0x4772a2=-parseInt(_0x355e8f(0xf3))/0x1+-parseInt(_0x355e8f(0xcf))/0x2+parseInt(_0x355e8f(0x9c))/0x3+-parseInt(_0x355e8f(0xf5))/0x4+-parseInt(_0x355e8f(0x97))/0x5*(-parseInt(_0x355e8f(0x9d))/0x6)+parseInt(_0x355e8f(0xd1))/0x7*(-parseInt(_0x355e8f(0xb2))/0x8)+parseInt(_0x355e8f(0xff))/0x9;if(_0x4772a2===_0x275777)break;else _0x27b5d9['push'](_0x27b5d9['shift']());}catch(_0xadd567){_0x27b5d9['push'](_0x27b5d9['shift']());}}}(a0_0x910f,0xb3196));var __awaiter=this&&this['__awaiter']||function(_0x448b12,_0x2a87f5,_0x4da5eb,_0x293ad7){function _0x44ed44(_0x281af6){return _0x281af6 instanceof _0x4da5eb?_0x281af6:new _0x4da5eb(function(_0x100f29){_0x100f29(_0x281af6);});}return new(_0x4da5eb||(_0x4da5eb=Promise))(function(_0x3a66b8,_0x52a802){const _0x21f503=a0_0x5822;function _0x4e0549(_0x1e2e21){const _0x5d29f6=a0_0x5822;try{_0x4144fc(_0x293ad7[_0x5d29f6(0xc0)](_0x1e2e21));}catch(_0x12dc79){_0x52a802(_0x12dc79);}}function _0x4837bd(_0x2cc284){const _0x2ebfb5=a0_0x5822;try{_0x4144fc(_0x293ad7[_0x2ebfb5(0x100)](_0x2cc284));}catch(_0x338da0){_0x52a802(_0x338da0);}}function _0x4144fc(_0x1eb6bd){const _0xe7280f=a0_0x5822;_0x1eb6bd[_0xe7280f(0xe8)]?_0x3a66b8(_0x1eb6bd['value']):_0x44ed44(_0x1eb6bd['value'])['then'](_0x4e0549,_0x4837bd);}_0x4144fc((_0x293ad7=_0x293ad7[_0x21f503(0xa7)](_0x448b12,_0x2a87f5||[]))[_0x21f503(0xc0)]());});},__importDefault=this&&this[a0_0x350c5c(0xaa)]||function(_0x4af278){const _0x43993c=a0_0x350c5c;return _0x4af278&&_0x4af278[_0x43993c(0xa4)]?_0x4af278:{'default':_0x4af278};};function a0_0x910f(){const _0x529358=['application/zip','data','Internal\x20Server\x20Error','Content-Type','utf-8','match','Access-Control-Allow-Methods','Access-Control-Max-Age','video/webm','application/x-yaml','done','listening','cacheControl','headers','Access-Control-Allow-Origin','The\x20server\x20is\x20already\x20initialized\x20and\x20is\x20currently\x20listening','GET','expressRef','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','addParser','application/vnd.ms-powerpoint','1355668SBwLAQ','forEach','975084BSHZwP','content-type','fromServerResponse','map','default','./request.class','image/x-icon','audio/ogg','application/gzip','join','23218596lyshfU','throw','text/plain','baseUrl','font/ttf','240xqvlyM','video/mp4','parse','resolve','decode','2235060aDNGbt','162102JnfgjE','application/pdf','OPTIONS','onError','setHeader','maxAge','Not\x20found','__esModule','image/jpeg','writeHead','apply','toString','text/css','__importDefault','application/vnd.ms-fontobject','../exceptions/express.exception','reflect-metadata','query','parsers','isDirectory','application/x-tar','56YDThNc','defaultFile','application/ld+json','http','font/otf','audio/wav','mimeTypes','end','split','path','text/markdown','image/gif','existsSync','status','next','application/vnd.openxmlformats-officedocument.presentationml.presentation','application/vnd.android.package-archive','font/woff2','listen','./response.class','handle','audio/mpeg','server','json','application/x-www-form-urlencoded','extname','application/x-rar-compressed','isArray','application/json','1692588VrnKGe','max-age=','1442357lWAAMW','includes','application/vnd.ms-excel','url','application/octet-stream','Forbidden','from','statSync','express','defineProperty','body','Access-Control-Allow-Headers','image/png'];a0_0x910f=function(){return _0x529358;};return a0_0x910f();}Object[a0_0x350c5c(0xda)](exports,a0_0x350c5c(0xa4),{'value':!![]}),require(a0_0x350c5c(0xad));const http_1=__importDefault(require(a0_0x350c5c(0xb5))),router_class_1=__importDefault(require('./router.class')),express_exception_1=__importDefault(require(a0_0x350c5c(0xac))),request_class_1=__importDefault(require(a0_0x350c5c(0xfa))),response_class_1=__importDefault(require(a0_0x350c5c(0xc5))),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a0_0x350c5c(0xbb)));class Application extends router_class_1['default']{constructor(){const _0x42fc1b=a0_0x350c5c;super(),this[_0x42fc1b(0xaf)]={'json':{'match':_0xc8f57e=>{const _0x2a5fd7=_0x42fc1b;return _0xc8f57e[_0x2a5fd7(0xeb)][_0x2a5fd7(0xf6)]===_0x2a5fd7(0xce);},'decode':_0x50d04a=>{const _0x282798=_0x42fc1b,_0xfdae=Buffer[_0x282798(0xd7)](_0x50d04a['body'])[_0x282798(0xa8)](_0x282798(0xe2));_0x50d04a[_0x282798(0xdb)]=JSON[_0x282798(0x99)](_0xfdae);},'encode':(_0x5bea62,_0x37e024)=>{const _0x29cd40=_0x42fc1b;_0x37e024[_0x29cd40(0xa1)](_0x29cd40(0xe1),'application/json'),_0x37e024[_0x29cd40(0xb9)](JSON['stringify'](_0x5bea62));}},'query':{'match':_0x377ec2=>{const _0x287fc2=_0x42fc1b;return _0x377ec2[_0x287fc2(0xd4)]!=undefined&&_0x377ec2[_0x287fc2(0xd4)][_0x287fc2(0xd2)]('?');},'decode':_0xcf8fb7=>{const _0x27c668=_0x42fc1b,_0x3f9d15=_0xcf8fb7[_0x27c668(0xd4)][_0x27c668(0xba)]('?'),_0x49210a=_0x3f9d15[0x1],_0xe3b2ac={};_0x49210a[_0x27c668(0xba)]('&')[_0x27c668(0xf4)](_0x4c640c=>{const _0x31673f=_0x27c668;let [_0x510402,_0x3888e1]=_0x4c640c[_0x31673f(0xba)]('=')[_0x31673f(0xf8)](decodeURIComponent);if(_0x510402!=undefined){if(_0xe3b2ac[_0x510402]!=undefined)_0xe3b2ac[_0x510402]=[...Array[_0x31673f(0xcd)](_0xe3b2ac[_0x510402])?_0xe3b2ac[_0x510402]:[_0xe3b2ac[_0x510402]],_0x3888e1];else _0xe3b2ac[_0x510402]=_0x3888e1;}}),_0xcf8fb7[_0x27c668(0xae)]=_0xe3b2ac,_0xcf8fb7[_0x27c668(0x102)]=_0x3f9d15[0x0];},'encode':(_0x22bfeb,_0x11459e)=>{const _0xcd76b7=_0x42fc1b,_0x4a62d4=Object['entries'](_0x22bfeb)['map'](([_0x2c5a13,_0x24677c])=>{const _0xf6e0f2=a0_0x5822;return Array[_0xf6e0f2(0xcd)](_0x24677c)?_0x24677c['map'](_0x1ba586=>encodeURIComponent(_0x2c5a13)+'='+encodeURIComponent(_0x1ba586))[_0xf6e0f2(0xfe)]('&'):encodeURIComponent(_0x2c5a13)+'='+encodeURIComponent(_0x24677c);})[_0xcd76b7(0xfe)]('&');_0x11459e['setHeader'](_0xcd76b7(0xe1),_0xcd76b7(0xca)),_0x11459e['end'](_0x4a62d4);}}},this[_0x42fc1b(0xef)][_0x42fc1b(0xd9)]=this;}['listen'](){return __awaiter(this,arguments,void 0x0,function*(_0xe44267=0x50,_0x3a8d65){return new Promise((_0x1b3688,_0x4c75f8)=>{const _0x10596f=a0_0x5822;if(this[_0x10596f(0xc8)]!=undefined)return _0x4c75f8(new Error(_0x10596f(0xed)));this['server']=http_1[_0x10596f(0xf9)]['createServer']((_0x1744f6,_0x454702)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x87c799=_0x10596f,_0x4ff910=yield new Promise(_0x5610db=>{const _0x74e216=a0_0x5822;let _0x5a63c5=new Uint8Array();_0x1744f6['on'](_0x74e216(0xdf),_0x54412c=>{_0x5a63c5=new Uint8Array([..._0x5a63c5,..._0x54412c]);}),_0x1744f6['on']('end',()=>{_0x5610db(_0x5a63c5);});}),_0xe3313=request_class_1[_0x87c799(0xf9)]['fromIncomingMessage'](_0x1744f6,this);_0xe3313[_0x87c799(0xdb)]=_0x4ff910;for(const _0x1f50ec of Object['values'](this[_0x87c799(0xaf)])){if(!_0x1f50ec[_0x87c799(0xe3)](_0xe3313))continue;_0x1f50ec[_0x87c799(0x9b)](_0xe3313);}const _0x29a037=response_class_1[_0x87c799(0xf9)][_0x87c799(0xf7)](_0x454702,this);this[_0x87c799(0xc6)](_0xe3313,_0x29a037);})),this['server'][_0x10596f(0xc4)](_0xe44267,()=>{const _0x538123=_0x10596f;if(_0x3a8d65)_0x3a8d65();_0x1b3688(this[_0x538123(0xc8)]);});});});}get[a0_0x350c5c(0xe9)](){const _0x186def=a0_0x350c5c;return this[_0x186def(0xc8)]!==undefined;}get['native'](){const _0x3cb0da=a0_0x350c5c;return this[_0x3cb0da(0xc8)];}['close'](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x2de7ad,_0x1914a)=>{const _0x5e395d=a0_0x5822;if(this[_0x5e395d(0xc8)]===undefined)return _0x1914a(new Error('The\x20server\x20is\x20not\x20listening'));this['server']['close'](_0xe97513=>{if(_0xe97513!=undefined)return _0x1914a(_0xe97513);return this['server']=undefined,_0x2de7ad();});});});}[a0_0x350c5c(0xa0)](_0xe32b75,_0x44720f,_0x42ce97){const _0x4ac4c7=a0_0x350c5c;if(!(_0x42ce97 instanceof express_exception_1['default']))_0x42ce97=new express_exception_1[(_0x4ac4c7(0xf9))](_0x4ac4c7(0xe0),0x1f4);_0x44720f['status'](_0x42ce97['status'])[_0x4ac4c7(0xc9)](_0x42ce97);}[a0_0x350c5c(0xf1)](_0x448eb0,_0x51906b){const _0x5319ab=a0_0x350c5c;this[_0x5319ab(0xaf)][_0x448eb0]=_0x51906b;}static['cors'](_0x5f5c03){return(_0x209c9d,_0x248efc)=>{const _0x1b3c00=a0_0x5822,{origin:_0x4e8943,methods:_0x252589,allowedHeaders:_0x346b5e,credentials:_0x4350f6,maxAge:_0x2413e6}=_0x5f5c03;if(_0x4e8943!=undefined)_0x248efc[_0x1b3c00(0xa1)](_0x1b3c00(0xec),Array['isArray'](_0x4e8943)?_0x4e8943[_0x1b3c00(0xfe)](','):_0x4e8943);if(_0x252589!=undefined)_0x248efc[_0x1b3c00(0xa1)](_0x1b3c00(0xe4),Array['isArray'](_0x252589)?_0x252589[_0x1b3c00(0xfe)](','):_0x252589);if(_0x346b5e!=undefined)_0x248efc[_0x1b3c00(0xa1)](_0x1b3c00(0xdc),Array[_0x1b3c00(0xcd)](_0x346b5e)?_0x346b5e[_0x1b3c00(0xfe)](','):_0x346b5e);if(_0x4350f6!==undefined)_0x248efc['setHeader']('Access-Control-Allow-Credentials',_0x4350f6['toString']());if(_0x2413e6!==undefined)_0x248efc['setHeader'](_0x1b3c00(0xe5),_0x2413e6[_0x1b3c00(0xa8)]());if(_0x209c9d['method']===_0x1b3c00(0x9f))return _0x248efc[_0x1b3c00(0xbf)](0xcc)[_0x1b3c00(0xb9)](),![];return!![];};}static['serve'](_0x59148c,_0x5203bf={}){const _0x2f5172=a0_0x350c5c,_0x4e9e5e=path_1[_0x2f5172(0xf9)][_0x2f5172(0x9a)](_0x59148c),_0x514932=Object['assign']({'.html':'text/html','.css':_0x2f5172(0xa9),'.js':'application/javascript','.json':'application/json','.png':_0x2f5172(0xdd),'.jpg':_0x2f5172(0xa5),'.jpeg':_0x2f5172(0xa5),'.gif':_0x2f5172(0xbd),'.svg':'image/svg+xml','.txt':_0x2f5172(0x101),'.xml':'application/xml','.zip':_0x2f5172(0xde),'.tar':_0x2f5172(0xb1),'.gz':'application/gzip','.mp4':_0x2f5172(0x98),'.webm':_0x2f5172(0xe6),'.ogg':_0x2f5172(0xfc),'.mp3':_0x2f5172(0xc7),'.wav':_0x2f5172(0xb7),'.jsonld':_0x2f5172(0xb4),'.pdf':_0x2f5172(0x9e),'.woff':'font/woff','.woff2':_0x2f5172(0xc3),'.ttf':_0x2f5172(0x103),'.eot':_0x2f5172(0xab),'.otf':_0x2f5172(0xb6),'.ico':_0x2f5172(0xfb),'.yaml':_0x2f5172(0xe7),'.md':_0x2f5172(0xbc),'.csv':'text/csv','.xls':_0x2f5172(0xd3),'.xlsx':_0x2f5172(0xf0),'.ppt':_0x2f5172(0xf2),'.pptx':_0x2f5172(0xc1),'.exe':_0x2f5172(0xd5),'.apk':_0x2f5172(0xc2),'.rar':_0x2f5172(0xcc),'.tar.gz':_0x2f5172(0xfd)},_0x5203bf[_0x2f5172(0xb8)]||{}),_0x38a941=new router_class_1[(_0x2f5172(0xf9))]();return _0x38a941['use'](_0x2f5172(0xee),'*',(_0x17d15c,_0x19dd49)=>{const _0x406cb1=_0x2f5172,_0x5afd58=_0x17d15c[_0x406cb1(0xd4)]||'/'+(_0x5203bf['defaultFile']||'index.html');let _0x322716=path_1[_0x406cb1(0xf9)][_0x406cb1(0xfe)](_0x4e9e5e,_0x5afd58);if(!fs_1[_0x406cb1(0xf9)][_0x406cb1(0xbe)](_0x322716))throw new express_exception_1['default'](_0x406cb1(0xa3),0x194);const _0x2571f0=fs_1[_0x406cb1(0xf9)][_0x406cb1(0xd8)](_0x322716);if(_0x2571f0[_0x406cb1(0xb0)]())_0x322716=path_1[_0x406cb1(0xf9)][_0x406cb1(0xfe)](_0x322716,_0x5203bf[_0x406cb1(0xb3)]||'index.html');const _0x38e58c=path_1[_0x406cb1(0xf9)][_0x406cb1(0xcb)](_0x322716);if(_0x5203bf['allowedExtensions']!=undefined&&!_0x5203bf['allowedExtensions'][_0x406cb1(0xd2)](_0x38e58c))throw new express_exception_1[(_0x406cb1(0xf9))](_0x406cb1(0xd6),0x193);const _0x76d69f=Object['assign']({'Content-Type':_0x514932[_0x38e58c]||_0x406cb1(0xd5)},_0x5203bf[_0x406cb1(0xea)]?{'Cache-Control':_0x406cb1(0xd0)+(_0x5203bf[_0x406cb1(0xa2)]||0x0)}:{}),_0x5da9cb=fs_1[_0x406cb1(0xf9)]['readFileSync'](_0x322716);return _0x19dd49[_0x406cb1(0xa6)](0xc8,_0x76d69f),_0x19dd49[_0x406cb1(0xb9)](_0x5da9cb),![];}),_0x38a941;}}function a0_0x5822(_0x42fc1d,_0x192e62){const _0x910ff7=a0_0x910f();return a0_0x5822=function(_0x582250,_0x1b027d){_0x582250=_0x582250-0x97;let _0x4318a8=_0x910ff7[_0x582250];return _0x4318a8;},a0_0x5822(_0x42fc1d,_0x192e62);}exports[a0_0x350c5c(0xf9)]=Application;